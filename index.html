<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>حاسبة السباك | معرض الصعيدي</title>
  <link rel="stylesheet" href="calculator-style.css">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<div id="clockContainer" class="clock-bar">
  <span id="dayName" class="highlight-day"></span> |
  <span id="arabicTime"></span> |
  <span id="gregorianDate"></span> |
  <span id="hijriDate"></span>
</div>

<div class="header">
  <h1>🧮 حاسبة طلبات السباك</h1>
  <p>بتاريخ 1/10/2025</p>
  <button id="toggleDarkMode">🌙 تبديل الوضع الليلي</button>
</div>

<div class="top-banner">
 🏪 الصعيدي للأدوات الصحية – مسجد الرحمن بشتيل - إمبابة | حسن العدوي 01122019099 | أحمد إدريس 01129777012
</div>

<label for="companySelect">اختر الشركة:</label>
<select id="companySelect">
  <option value="">-- اختر الشركة --</option>
  <option value="egic">المصرية الألمانية (بي آر، سمارت، كيسيل)</option>
  <option value="belissa">بيلسا ثيرم</option>
  <option value="economy">لوازم التشطيب – اقتصادي</option>
  <option value="lux">(نواكل فاخر – ايديال، جروهي، جولد، بي جي، شيلد)</option>
</select>

<div id="sectionContainer" style="display:none;">
  <label for="sectionSelect">اختر القسم:</label>
  <select id="sectionSelect"></select>
</div>

<div id="sizeContainer" style="display:none;">
  <label for="sizeSelect">اختر القطر:</label>
  <select id="sizeSelect"></select>
</div>

<div id="itemsContainer"></div>

<button onclick="calculateTotal()">✅ احسب الإجمالي</button>
<button id="viewInvoice" style="display:none;">🧾 عرض الفاتورة</button>

<p id="totalResult">الإجمالي: 0 جنيه</p>

<div class="whatsapp-actions">
  <a id="whatsappRetail" href="#" target="_blank" class="whatsapp-button small" style="display:none;">واتس (بالمعرض) 📲</a>
  <a id="whatsappWholesale" href="#" target="_blank" class="whatsapp-button small" style="display:none;">واتس (جملة) 📦</a>
</div>

<button id="startNewOrder" onclick="startNewOrder()" style="display:none;">🔄 تصفح قسم آخر / ابدأ من جديد</button>

<footer>
  🔒 هذه الحاسبة مقدمة حصريًا من <strong>معرض الصعيدي للأدوات الصحية</strong> – مسجد الرحمن بشتيل إمبابة 
</footer>

<script src="productData.js"></script>
<script src="calculator-script.js"></script>

<script>
function toArabicDigits(str) {
  const arabicNumbers = ['٠','١','٢','٣','٤','٥','٦','٧','٨','٩'];
  return str.replace(/\d/g, d => arabicNumbers[d]);
}

function updateClock() {
  const now = new Date();
  let hours = now.getHours();
  const minutes = now.getMinutes();
  const seconds = now.getSeconds();
  const ampm = hours >= 12 ? 'م' : 'ص';
  hours = hours % 12 || 12;
  const timeStr = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')} ${ampm}`;
  document.getElementById("arabicTime").textContent = toArabicDigits(timeStr);

  const gregorianDate = now.toLocaleDateString('ar-EG', { year: 'numeric', month: 'long', day: 'numeric' });
  document.getElementById("gregorianDate").textContent = gregorianDate;

  document.getElementById("dayName").textContent = now.toLocaleDateString('ar-EG', { weekday: 'long' });

  const hijriDate = new Intl.DateTimeFormat('ar-SA-u-ca-islamic', {
    day: 'numeric', month: 'long', year: 'numeric'
  }).format(now);
  document.getElementById("hijriDate").textContent = hijriDate;
}
setInterval(updateClock, 1000);
updateClock();
</script>

<div class="about-sa3edy">
  <p>
   ملاحظة هامة: الأسعار تتغير باستمرار بتغيير الشركات لأسعارها، واحتمال وجود أخطاء في المدخلات أمر وارد.
   نرجو متابعة الأسعار كل فترة مع من تثق فيهم من التجار.
  </p>
</div>

</body>
</html>
